import{f as q,g as z,h as L,i as Z,j as J,k as K,l as Q,m as X,n as Y,o as tt,p as et,q as w}from"./chunk-CQYY5LW7.js";import{a as xt,b as _t}from"./chunk-M5Y4ZE4Q.js";import{a as rt,b as A,d as it,e as nt,g as at,h as ot,i as lt,j as ct,k as mt,l as dt}from"./chunk-FUOWLZJB.js";import{a as ut,b as pt,c as st}from"./chunk-TT4W3LTA.js";import{$ as x,$a as g,$b as j,Ba as U,Bb as P,Fa as p,Na as h,Qa as S,R as N,Ra as b,Sa as y,Ta as d,Ua as a,V as W,Va as o,W as B,Wa as _,Yb as G,_ as s,_a as E,bb as f,db as C,eb as l,pb as v,rb as m,sa as n,sb as T,tb as M,ub as D,vb as I,wa as H,wb as O,xb as $,yb as k}from"./chunk-DFQ5PB6J.js";var V=class e{constructor(r){this._httpClient=r}extraCurrUrl="api/extracurriculum/";extraxCurrUrl="api/extracurriculumx/";extraSaveUrl="api/extrasave";fetchAllExtracurriculum(){return this._httpClient.get(`https://cors-anywhere.herokuapp.com/http://51.21.254.31:5001/${this.extraCurrUrl}`)}fetchStudentExtracurriculum(r){return this._httpClient.get(`https://cors-anywhere.herokuapp.com/http://51.21.254.31:5001/${this.extraCurrUrl}`+r)}fetchExceptStudentExtracurriculum(r){return this._httpClient.get(`https://cors-anywhere.herokuapp.com/http://51.21.254.31:5001/${this.extraxCurrUrl}`+r)}AddExtracurriculum(r){return this._httpClient.post(`https://cors-anywhere.herokuapp.com/http://51.21.254.31:5001/${this.extraCurrUrl}`,r)}AddExtraStudent(r){return this._httpClient.post(`https://cors-anywhere.herokuapp.com/http://51.21.254.31:5001/${this.extraSaveUrl}`,r)}DeleteExtraStudent(r,t){return this._httpClient.delete(`https://cors-anywhere.herokuapp.com/http://51.21.254.31:5001/${this.extraSaveUrl}`,{body:{extraid:r,student:t}})}static \u0275fac=function(t){return new(t||e)(W(j))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})};var R=()=>["expandedDetail"];function gt(e,r){if(e&1){let t=f();a(0,"div")(1,"form",1)(2,"label"),m(3,"Title of Extracurriculum activity"),o(),a(4,"textarea",2),$("ngModelChange",function(c){s(t);let u=l(2);return O(u.newtitle,c)||(u.newtitle=c),x(c)}),o(),a(5,"label"),m(6,"description"),o(),a(7,"textarea",3),$("ngModelChange",function(c){s(t);let u=l(2);return O(u.newdesc,c)||(u.newdesc=c),x(c)}),o()(),a(8,"button",4),C("click",function(){s(t);let c=l(2);return x(c.AddExtracurr())}),m(9,"Submit"),o()()}if(e&2){let t=l(2);n(),d("formGroup",t.fGroup),n(3),I("ngModel",t.newtitle),n(3),I("ngModel",t.newdesc)}}function vt(e,r){if(e&1&&(a(0,"div"),p(1,gt,10,3,"div",0),o()),e&2){let t=l();n(),d("ngIf",t.checkTeacher())}}function wt(e,r){if(e&1){let t=f();a(0,"div")(1,"button",4),C("click",function(){s(t);let c=l(2);return x(c.addnew=!0)}),m(2,"Add new Extracurriculum"),o()()}}function ht(e,r){if(e&1&&(a(0,"div"),p(1,wt,3,0,"div",0),o()),e&2){let t=l();n(),d("ngIf",!t.addnew)}}function St(e,r){e&1&&(a(0,"th",15),m(1,"Extracurriculum Activities"),o())}function bt(e,r){if(e&1&&(a(0,"td",16),m(1),o()),e&2){let t=r.$implicit,i=l().$implicit;n(),T(t[i])}}function yt(e,r){if(e&1&&(E(0,6),p(1,St,2,0,"th",14)(2,bt,2,1,"td",9),g()),e&2){let t=r.$implicit;d("matColumnDef",k(t))}}function Tt(e,r){e&1&&(a(0,"th",17),m(1,"\xA0"),o())}function Mt(e,r){if(e&1){let t=f();a(0,"td",16)(1,"button",18),C("click",function(c){let u=s(t).$implicit;return l(2).toggle(u),x(c.stopPropagation())}),a(2,"mat-icon"),m(3,"keyboard_arrow_down"),o()()()}if(e&2){let t=r.$implicit,i=l(2);n(),v("example-toggle-button-expanded",i.isExpanded(t))}}function Dt(e,r){if(e&1){let t=f();a(0,"div")(1,"button",4),C("click",function(){s(t);let c=l().$implicit,u=l(2);return x(u.DeleteExtracurrStud(c.extraid))}),m(2,"Sign Off"),o()()}}function kt(e,r){if(e&1&&(a(0,"td",16)(1,"div",19)(2,"div",20)(3,"div",21),m(4),a(5,"span",22),m(6),o(),_(7,"br"),p(8,Dt,3,0,"div",0),o()()()()),e&2){let t=r.$implicit,i=l(2);h("colspan",i.columnsToDisplayWithExpand.length),n(),v("example-element-detail-wrapper-expanded",i.isExpanded(t)),n(3),M(" ",t.description," "),n(2),D(" Supervised by ",t.firstname," ",t.lastname," "),n(2),d("ngIf",i.checkStudent())}}function Pt(e,r){e&1&&_(0,"tr",23)}function Vt(e,r){if(e&1){let t=f();a(0,"tr",24),C("click",function(){let c=s(t).$implicit,u=l(2);return x(u.toggle(c))}),o()}if(e&2){let t=r.$implicit,i=l(2);v("example-expanded-row",i.isExpanded(t))}}function It(e,r){e&1&&_(0,"tr",25)}function Ot(e,r){e&1&&(a(0,"th",15),m(1,"Extracurriculum Activities"),o())}function $t(e,r){if(e&1&&(a(0,"td",16),m(1),o()),e&2){let t=r.$implicit,i=l().$implicit;n(),T(t[i])}}function At(e,r){if(e&1&&(E(0,6),p(1,Ot,2,0,"th",14)(2,$t,2,1,"td",9),g()),e&2){let t=r.$implicit;d("matColumnDef",k(t))}}function Rt(e,r){e&1&&(a(0,"th",17),m(1,"\xA0"),o())}function Ft(e,r){if(e&1){let t=f();a(0,"td",16)(1,"button",18),C("click",function(c){let u=s(t).$implicit;return l(2).toggle(u),x(c.stopPropagation())}),a(2,"mat-icon"),m(3,"keyboard_arrow_down"),o()()()}if(e&2){let t=r.$implicit,i=l(2);n(),v("example-toggle-button-expanded",i.isExpanded(t))}}function Nt(e,r){if(e&1){let t=f();a(0,"div")(1,"button",4),C("click",function(){s(t);let c=l().$implicit,u=l(2);return x(u.AddExtracurrStud(c.extraid))}),m(2,"Sign Up"),o()()}}function Wt(e,r){if(e&1&&(a(0,"td",16)(1,"div",19)(2,"div",20)(3,"div",21),m(4),a(5,"span",22),m(6),o(),_(7,"br"),p(8,Nt,3,0,"div",0),o()()()()),e&2){let t=r.$implicit,i=l(2);h("colspan",i.columnsToDisplayWithExpand.length),n(),v("example-element-detail-wrapper-expanded",i.isExpanded(t)),n(3),M(" ",t.description," "),n(2),D(" Supervised by ",t.firstname," ",t.lastname," "),n(2),d("ngIf",i.checkStudent())}}function Bt(e,r){e&1&&_(0,"tr",23)}function Ht(e,r){if(e&1){let t=f();a(0,"tr",24),C("click",function(){let c=s(t).$implicit,u=l(2);return x(u.toggle(c))}),o()}if(e&2){let t=r.$implicit,i=l(2);v("example-expanded-row",i.isExpanded(t))}}function Ut(e,r){e&1&&_(0,"tr",25)}function Gt(e,r){if(e&1&&(a(0,"div"),m(1,`
Zapisane
`),_(2,"br"),a(3,"table",5),b(4,yt,3,2,"ng-container",6,S),E(6,7),p(7,Tt,2,0,"th",8)(8,Mt,4,2,"td",9),g(),E(9,10),p(10,kt,9,7,"td",9),g(),p(11,Pt,1,0,"tr",11)(12,Vt,1,2,"tr",12)(13,It,1,0,"tr",13),o(),m(14,` Do zapisania
`),_(15,"br"),a(16,"table",5),b(17,At,3,2,"ng-container",6,S),E(19,7),p(20,Rt,2,0,"th",8)(21,Ft,4,2,"td",9),g(),E(22,10),p(23,Wt,9,7,"td",9),g(),p(24,Bt,1,0,"tr",11)(25,Ht,1,2,"tr",12)(26,Ut,1,0,"tr",13),o()()),e&2){let t=l();n(3),d("dataSource",t.dataSourceapp),n(),y(t.columnsToDisplay),n(7),d("matHeaderRowDef",t.columnsToDisplayWithExpand),n(),d("matRowDefColumns",t.columnsToDisplayWithExpand),n(),d("matRowDefColumns",P(8,R)),n(3),d("dataSource",t.dataSourceex),n(),y(t.columnsToDisplay),n(7),d("matHeaderRowDef",t.columnsToDisplayWithExpand),n(),d("matRowDefColumns",t.columnsToDisplayWithExpand),n(),d("matRowDefColumns",P(9,R))}}function jt(e,r){e&1&&(a(0,"th",15),m(1,"Extracurriculum Activities"),o())}function qt(e,r){if(e&1&&(a(0,"td",16),m(1),o()),e&2){let t=r.$implicit,i=l().$implicit;n(),T(t[i])}}function zt(e,r){if(e&1&&(E(0,6),p(1,jt,2,0,"th",14)(2,qt,2,1,"td",9),g()),e&2){let t=r.$implicit;d("matColumnDef",k(t))}}function Lt(e,r){e&1&&(a(0,"th",17),m(1,"\xA0"),o())}function Zt(e,r){if(e&1){let t=f();a(0,"td",16)(1,"button",18),C("click",function(c){let u=s(t).$implicit;return l(2).toggle(u),x(c.stopPropagation())}),a(2,"mat-icon"),m(3,"keyboard_arrow_down"),o()()()}if(e&2){let t=r.$implicit,i=l(2);n(),v("example-toggle-button-expanded",i.isExpanded(t))}}function Jt(e,r){if(e&1){let t=f();a(0,"div")(1,"button",4),C("click",function(){s(t);let c=l().$implicit,u=l(2);return x(u.AddExtracurrStud(c.extraid))}),m(2,"Sign Up"),o()()}}function Kt(e,r){if(e&1&&(a(0,"td",16)(1,"div",19)(2,"div",20)(3,"div",21),m(4),a(5,"span",22),m(6),o(),_(7,"br"),p(8,Jt,3,0,"div",0),o()()()()),e&2){let t=r.$implicit,i=l(2);h("colspan",i.columnsToDisplayWithExpand.length),n(),v("example-element-detail-wrapper-expanded",i.isExpanded(t)),n(3),M(" ",t.description," "),n(2),D(" Supervised by ",t.firstname," ",t.lastname," "),n(2),d("ngIf",i.checkStudent())}}function Qt(e,r){e&1&&_(0,"tr",23)}function Xt(e,r){if(e&1){let t=f();a(0,"tr",24),C("click",function(){let c=s(t).$implicit,u=l(2);return x(u.toggle(c))}),o()}if(e&2){let t=r.$implicit,i=l(2);v("example-expanded-row",i.isExpanded(t))}}function Yt(e,r){e&1&&_(0,"tr",25)}function te(e,r){if(e&1&&(a(0,"div"),_(1,"br"),a(2,"table",5),b(3,zt,3,2,"ng-container",6,S),E(5,7),p(6,Lt,2,0,"th",8)(7,Zt,4,2,"td",9),g(),E(8,10),p(9,Kt,9,7,"td",9),g(),p(10,Qt,1,0,"tr",11)(11,Xt,1,2,"tr",12)(12,Yt,1,0,"tr",13),o()()),e&2){let t=l();n(2),d("dataSource",t.dataSource),n(),y(t.columnsToDisplay),n(7),d("matHeaderRowDef",t.columnsToDisplayWithExpand),n(),d("matRowDefColumns",t.columnsToDisplayWithExpand),n(),d("matRowDefColumns",P(4,R))}}var ft=class e{constructor(r){this.extracurrService=r}fBuilder=B(mt);newtitle="";newdesc="";addnew=!1;fGroup=this.fBuilder.group({id:[""],title:["",A.required],description:["",A.required]});dataSource=new w;dataSourceapp=new w;dataSourceex=new w;columnsToDisplay=["title"];columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"];extras=[];extras2=[];extras3=[];ngAfterViewInit(){this.extracurrService.fetchAllExtracurriculum().subscribe(t=>{this.extras=t,this.dataSource=new w(t),console.log(this.extras)});let r=Number(sessionStorage.getItem("userid"));this.extracurrService.fetchStudentExtracurriculum(r).subscribe(t=>{this.extras2=t,this.dataSourceapp=new w(t),console.log(this.extras2)}),this.extracurrService.fetchExceptStudentExtracurriculum(r).subscribe(t=>{this.extras3=t,this.dataSourceex=new w(t),console.log(this.extras3)})}expandedElement={extraid:0,title:"",description:"",firstname:"",lastname:""};isExpanded(r){return this.expandedElement===r}toggle(r){this.expandedElement=this.isExpanded(r)?null:r}AddExtracurr(){let r={title:this.newtitle,description:this.newdesc,teacher:Number(sessionStorage.getItem("userid"))};this.extracurrService.AddExtracurriculum(r).subscribe({next:t=>{console.log("ExtraCurriculum added Successfully"),this.addnew=!1,window.location.reload()},error:t=>{console.log("Error"),console.log(t)}})}AddExtracurrStud(r){let t={extraid:Number(r),student:Number(sessionStorage.getItem("userid"))};this.extracurrService.AddExtraStudent(t).subscribe({next:i=>{console.log("ExtraCurriculum Student added Successfully"),window.location.reload()},error:i=>{console.log("Error"),console.log(i)}})}DeleteExtracurrStud(r){let t={extraid:Number(r),student:Number(sessionStorage.getItem("userid"))};this.extracurrService.DeleteExtraStudent(t.extraid,t.student).subscribe({next:i=>{console.log("ExtraCurriculum Student deleted Successfully"),window.location.reload()},error:i=>{console.log("Error"),console.log(i)}})}checkStudent(){return sessionStorage.getItem("usertype")=="student"}checkTeacher(){return sessionStorage.getItem("usertype")=="teacher"}static \u0275fac=function(t){return new(t||e)(H(V))};static \u0275cmp=U({type:e,selectors:[["app-extra-curr"]],decls:4,vars:4,consts:[[4,"ngIf"],[3,"formGroup"],["rows","2","formControlName","title","required","",3,"ngModelChange","ngModel"],["rows","4","formControlName","description","required","",3,"ngModelChange","ngModel"],["mat-flat-button","",2,"margin-left","5px",3,"click"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["matIconButton","","aria-label","expand row",1,"example-toggle-button",3,"click"],[1,"example-element-detail-wrapper"],[1,"example-element-detail"],[1,"example-element-description"],[1,"example-element-description-attribution"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(t,i){t&1&&p(0,vt,2,1,"div",0)(1,ht,2,1,"div",0)(2,Gt,27,10,"div",0)(3,te,13,5,"div",0),t&2&&(d("ngIf",i.addnew),n(),d("ngIf",i.checkTeacher()),n(),d("ngIf",i.checkStudent()),n(),d("ngIf",i.checkTeacher()))},dependencies:[et,q,L,Q,Z,z,X,J,K,Y,tt,st,pt,ut,_t,xt,dt,at,rt,it,nt,ct,ot,lt,G],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]{cursor:pointer}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail-wrapper[_ngcontent-%COMP%]{overflow:hidden;display:grid;grid-template-rows:0fr;grid-template-columns:100%;transition:grid-template-rows 225ms cubic-bezier(.4,0,.2,1)}.example-element-detail-wrapper-expanded[_ngcontent-%COMP%]{grid-template-rows:1fr}.example-element-detail[_ngcontent-%COMP%]{display:flex;min-height:0}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.75}.example-toggle-button[_ngcontent-%COMP%]{transition:transform 225ms cubic-bezier(.4,0,.2,1)}.example-toggle-button-expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.mat-mdc-header-row[_ngcontent-%COMP%]{background-color:#7fa3ff!important}.wrap[_ngcontent-%COMP%]{max-width:1100px;margin:24px auto;padding:16px}.row[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;flex-wrap:wrap}.muted[_ngcontent-%COMP%]{color:#6b7280}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:8px}textarea[_ngcontent-%COMP%]{width:100%}"]})};export{ft as ExtraCurr};
