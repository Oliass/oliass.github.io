import{h as N,j as F}from"./chunk-PZEL23GO.js";import{b as x}from"./chunk-DR7NPN6H.js";import{p as C}from"./chunk-VFXFCBAL.js";import{a as v,b as a,d as M,e as _,g as S,h as y,i as w,k as P,l as O}from"./chunk-S3GV3V6T.js";import"./chunk-ZNAXOUNC.js";import{$b as b,Ba as g,R as c,Ta as f,Ua as i,V as u,Va as n,W as p,Wa as m,db as h,rb as s,wa as d}from"./chunk-2RJLL2X4.js";var l=class r{constructor(t){this._httpClient=t}loginUrl="https://cors-anywhere.herokuapp.com/http://51.21.254.31:5001/api/login";logoutUrl="https://cors-anywhere.herokuapp.com/http://51.21.254.31:5001/api/logout";loginService(t){return this._httpClient.post(`${this.loginUrl}`,t,{headers:{"Content-Type":"application/json"}})}logoutService(t){return this._httpClient.post(`${this.logoutUrl}`,t)}static \u0275fac=function(e){return new(e||r)(u(b))};static \u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"})};var I=class r{constructor(t){this.loginservice=t}selected="";router=p(x);login(){if(this.fGroup.invalid)return;let t=this.fGroup.getRawValue(),e=JSON.stringify({name:t.name,password:t.password});console.log(e),this.loginservice.loginService(e).subscribe({next:o=>{console.log("login sucessfull"),o.isteacher&&(sessionStorage.setItem("usertype","teacher"),sessionStorage.setItem("userid",o.teacher.toString())),o.isstudent&&(sessionStorage.setItem("usertype","student"),sessionStorage.setItem("userid",o.student.toString())),this.router.navigate(["/dashboard"])},error:o=>{console.log("no usser"),console.log(o)}})}fBuilder=p(P);fGroup=this.fBuilder.group({name:["",a.required],password:["",a.required]});static \u0275fac=function(e){return new(e||r)(d(l))};static \u0275cmp=g({type:r,selectors:[["app-home"]],decls:13,vars:1,consts:[[3,"submit","formGroup"],[1,"form-control"],["for","name"],["formControlName","name","id","name","type","name"],["for","password"],["formControlName","password","id","password","type","password"],["type","submit"]],template:function(e,o){e&1&&(i(0,"form",0),h("submit",function(){return o.login()}),i(1,"h1"),s(2,"Login"),n(),i(3,"div",1)(4,"label",2),s(5,"Name"),n(),m(6,"input",3),n(),i(7,"div",1)(8,"label",4),s(9,"Password"),n(),m(10,"input",5),n(),i(11,"button",6),s(12,"Login"),n()()),e&2&&f("formGroup",o.fGroup)},dependencies:[C,F,N,O,S,v,M,_,y,w],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:80px auto;padding:16px 16px 24px;box-shadow:0 2px 32px #00000026;border-radius:4px}form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;color:#555;padding-bottom:4px;border-bottom:1px solid #ccc}.form-control[_ngcontent-%COMP%]{margin-bottom:16px}.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.form-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;margin-bottom:4px}.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;height:35px;border-radius:4px;width:100%;border:2px solid #ccc;background-color:#fff}.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline-offset:2px;outline:2px solid #07c}button[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:8px 24px;border-radius:4px;width:100%;font-size:1.2rem}button[_ngcontent-%COMP%]:focus{outline-offset:2px;outline:2px solid #07c}"]})};export{I as Home};
